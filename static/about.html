<!DOCTYPE html>
<html lang="zh" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AIé©±åŠ¨çš„ç‰©ä½“è¯†åˆ«ä¸çŸ¥è¯†æŸ¥è¯¢å¹³å°">
    <title>å…³äºæˆ‘ä»¬ - BirdFinder</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/landing.css">
    <script src="/static/tts.js"></script>
    <script src="/static/script.js"></script>
    <script src="/static/camera.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
</head>
<body>
    <header class="app-header">
        <div class="header-content">
            <h1 aria-label="BirdFinder">ğŸ” BirdFinder</h1>
            <nav class="nav-container">
                <ul class="nav-links">
                    <li><a href="/static/landing.html">ä¸»é¡µ</a></li>
                    <li><a href="/static/index.html">åŠŸèƒ½ä½“éªŒ</a></li>
                    <li><a href="#" onclick="openPopup('historyPopup')" class="nav-btn">å†å²è®°å½•</a></li>
                    <li><a href="#" onclick="openPopup('alertsPopup')" class="nav-btn">å¼‚å¸¸é¢„è­¦</a></li>
                    <li><a href="#" onclick="openPopup('dashboardPopup')" class="nav-btn">æ•°æ®çœ‹æ¿</a></li>
                    <li><a href="/static/about.html" class="active">å…³äºæˆ‘ä»¬</a></li>
                </ul>
                <button id="themeToggle" class="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
            </nav>
        </div>
    </header>

    <main class="main-container about-container">
        <!-- å…³äºæˆ‘ä»¬å†…å®¹å¡ç‰‡ -->
        <section class="card about-section" aria-labelledby="aboutHeading">
            <div class="section-header">
                <h2 id="aboutHeading"><span class="icon">ğŸŒŸ</span> æˆ‘ä»¬çš„ä½¿å‘½</h2>
            </div>
            <p class="about-content">BirdFinder çš„ä½¿å‘½æ˜¯é€šè¿‡æœ€å…ˆè¿›çš„äººå·¥æ™ºèƒ½æŠ€æœ¯å¸®åŠ©å…¨çƒç”¨æˆ·ç²¾å‡†è¯†åˆ«å„ç§é¸Ÿç±»ï¼Œç»“åˆå¤§æ•°æ®å’Œç”Ÿæ€å­¦çŸ¥è¯†ï¼Œä¸ºå¤§ä¼—æä¾›ä¸€ä¸ªä¾¿æ·ã€å‡†ç¡®ä¸”å¯Œæœ‰æ•™è‚²æ„ä¹‰çš„å¹³å°ã€‚æˆ‘ä»¬ä¸ä»…è‡´åŠ›äºé¸Ÿç±»è¯†åˆ«ï¼Œæ›´å¸Œæœ›é€šè¿‡æ™®åŠé¸Ÿç±»ä¸è‡ªç„¶çš„çŸ¥è¯†ï¼Œæ¿€å‘äººä»¬å¯¹ç”Ÿæ€ç¯å¢ƒçš„å…³çˆ±ä¸ä¿æŠ¤æ„è¯†ã€‚</p>
            <p class="about-content">æˆ‘ä»¬çš„ç›®æ ‡ æ˜¯è®©æ¯ä¸ªäººéƒ½èƒ½æˆä¸ºè‡ªç„¶ä¿æŠ¤çš„å®ˆæŠ¤è€…ã€‚é€šè¿‡æä¾›æ˜“äºä½¿ç”¨çš„å·¥å…·ï¼Œæˆ‘ä»¬é¼“åŠ±ç”¨æˆ·æ·±å…¥äº†è§£å‘¨å›´çš„è‡ªç„¶ä¸–ç•Œï¼Œæ¿€å‘æ¢ç´¢å’Œä¿æŠ¤ç”Ÿæ€ç¯å¢ƒçš„çƒ­æƒ…ã€‚</p>
        </section>

        <section class="card team-section" aria-labelledby="teamHeading">
            <div class="section-header">
                <h2 id="teamHeading"><span class="icon">ğŸ‘¥</span> æˆ‘ä»¬çš„å›¢é˜Ÿ</h2>
            </div>
            <p class="about-content">BirdFinder çš„å›¢é˜Ÿç”±ä¸€ç¾¤è®¡ç®—æœºä¸“ä¸šçš„å­¦ç”Ÿç»„æˆï¼Œæˆ‘ä»¬åˆ†åˆ«è´Ÿè´£å‰ç«¯ã€åç«¯å’Œç®—æ³•å¼€å‘ï¼Œè‡´åŠ›äºå°†è‡ªç„¶ç§‘å­¦ä¸äººå·¥æ™ºèƒ½æŠ€æœ¯ç»“åˆï¼Œæ‰“é€ ä¸€æ¬¾æ™ºèƒ½é¸Ÿç±»è¯†åˆ«ä¸çŸ¥è¯†æŸ¥è¯¢å¹³å°ã€‚</p>
            <p class="about-content">æˆ‘ä»¬çš„å›¢é˜Ÿæˆå‘˜è™½æ¥è‡ªä¸åŒçš„æŠ€æœ¯é¢†åŸŸï¼Œä½†æ¯ä¸ªäººéƒ½åœ¨è‡ªå·±çš„å²—ä½ä¸Šç²¾ç›Šæ±‚ç²¾ï¼Œé€šè¿‡é€šåŠ›åˆä½œæ¨åŠ¨é¡¹ç›®çš„é¡ºåˆ©è¿›è¡Œã€‚</p>

            <p class="about-content"><strong>å›¢é˜Ÿæˆå‘˜ï¼š</strong><br></p>
            <p class="about-content">çš®æ–‡æµ© â€” ç®—æ³•å·¥ç¨‹å¸ˆï¼Œè´Ÿè´£å®ç°é¸Ÿç±»å›¾åƒè¯†åˆ«ç®—æ³•ä¸äººå·¥æ™ºèƒ½æ¨¡å‹çš„è®­ç»ƒä¸ä¼˜åŒ–ï¼Œæå‡å¹³å°çš„è¯†åˆ«ç²¾åº¦å’Œæ™ºèƒ½æ°´å¹³ã€‚</p>
            <p class="about-content">è‚–è‰³å¹³ â€” å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œè´Ÿè´£ç½‘ç«™çš„å‰ç«¯ç•Œé¢è®¾è®¡ä¸ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼Œè‡´åŠ›äºæä¾›ç®€æ´ã€ç›´è§‚ä¸”äº’åŠ¨æ€§å¼ºçš„ç•Œé¢ã€‚</p>
            <p class="about-content">å®˜å®¶æµ© â€” åç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œè´Ÿè´£ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸æ•°æ®åº“ç®¡ç†ï¼Œç¡®ä¿å¹³å°çš„ç¨³å®šæ€§å’Œæ•°æ®çš„é«˜æ•ˆå¤„ç†ã€‚</p>

        </section>


        <section class="card tech-section" aria-labelledby="techHeading">
            <div class="section-header">
                <h2 id="techHeading"><span class="icon">ğŸ§ </span> å¹³å°åŠŸèƒ½äº®ç‚¹</h2>
            </div>
            <p class="about-content">BirdFinder é¡¹ç›®ç”±æˆ‘ä»¬ç‹¬ç«‹è®¾è®¡å¹¶å®ç°ï¼Œç»“åˆäº†å¤šé¡¹ç°ä»£äººå·¥æ™ºèƒ½ä¸å…¨æ ˆå¼€å‘æŠ€æœ¯ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¾¿æ·ã€å‡†ç¡®çš„é¸Ÿç±»è¯†åˆ«ä¸çŸ¥è¯†è·å–æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¹³å°çš„æ ¸å¿ƒæŠ€æœ¯äº®ç‚¹ï¼š</p>
            <p class="about-content">
                <strong>ğŸ” è‡ªä¸»è®­ç»ƒçš„å›¾åƒè¯†åˆ«å¤§æ¨¡å‹ï¼š</strong><br>
æˆ‘ä»¬åŸºäºå…¬å¼€æ•°æ®é›†å’Œè¿ç§»å­¦ä¹ æ–¹æ³•ï¼Œè‡ªä¸»è®­ç»ƒäº†é¸Ÿç±»å›¾åƒè¯†åˆ«æ¨¡å‹ã€‚æ¨¡å‹é‡‡ç”¨æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ï¼Œå…·å¤‡è¾ƒå¼ºçš„å›¾åƒåˆ†ç±»ä¸ç‰¹å¾æå–èƒ½åŠ›ï¼Œæ”¯æŒç”¨æˆ·ä¸Šä¼ å›¾ç‰‡åå¿«é€Ÿè¯†åˆ«é¸Ÿçš„ç§ç±»ã€‚</p>
            <p class="about-content">
                <strong>ğŸ”— è”é€šç»´åŸºç™¾ç§‘çš„çŸ¥è¯†åº“ï¼š</strong><br>
è¯†åˆ«å‡ºé¸Ÿç±»ç§ç±»åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€ç´¢ç»´åŸºç™¾ç§‘ç­‰æƒå¨èµ„æ–™æ¥æºï¼Œä¸ºç”¨æˆ·å‘ˆç°è¯¦ç»†çš„é¸Ÿç±»ä»‹ç»ã€ç”Ÿæ€ä¹ æ€§åŠä¿æŠ¤ç°çŠ¶ï¼Œå®ç°"è¯†åˆ«å³ç§‘æ™®"çš„æ™ºèƒ½åŒ–ä½“éªŒã€‚</p>
            <p class="about-content">
                <strong>ğŸ¤– é›†æˆ DeepSeek API æ™ºèƒ½åŠ©æ‰‹ï¼š</strong><br>
æˆ‘ä»¬åµŒå…¥äº† DeepSeek API æ¥å£ï¼Œæ„å»º AI é—®ç­”åŠ©æ‰‹æ¨¡å—ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€å¯¹è¯ã€‚ç”¨æˆ·å¯åƒä¸ä¸“å®¶äº¤æµä¸€æ ·ï¼Œæé—®é¸Ÿç±»ç›¸å…³é—®é¢˜ï¼Œç³»ç»Ÿå°†åŸºäºä¸Šä¸‹æ–‡æ™ºèƒ½ç”Ÿæˆç­”å¤ã€‚</p>
            <p class="about-content">
                <strong>âš¡ ä½¿ç”¨ FastAPI æ­å»ºé«˜æ€§èƒ½åç«¯ï¼š</strong><br>
åç«¯é‡‡ç”¨ç°ä»£ Python æ¡†æ¶ FastAPI æ„å»ºï¼Œå…·å¤‡å¼‚æ­¥å¤„ç†èƒ½åŠ›ï¼Œæ¥å£å“åº”å¿«é€Ÿã€æ˜“æ‰©å±•ï¼Œä¿éšœç³»ç»Ÿç¨³å®šé«˜æ•ˆè¿è¡Œã€‚åŒæ—¶æˆ‘ä»¬ä½¿ç”¨ RESTful API è§„èŒƒå®ç°å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ–¹ä¾¿ç»´æŠ¤å’ŒäºŒæ¬¡å¼€å‘ã€‚</p>
        </section>

        <section class="card contact-section" aria-labelledby="contactHeading">
    <div class="section-header">
        <h2 id="contactHeading"><span class="icon">ğŸ“§</span> è”ç³»æˆ‘ä»¬</h2>
    </div>
    <p class="about-content">
        å¦‚æœæ‚¨æœ‰ä»»ä½•å»ºè®®æˆ–åé¦ˆï¼Œæ¬¢è¿é€šè¿‡é‚®ç®±ä¸æˆ‘ä»¬è”ç³»ï¼š
        <a href="mailto:2025982599@qq.com" class="email-link">2025982599@qq.com</a>ã€‚
    </p>
    <p class="about-content">
        æˆ‘ä»¬çš„é¡¹ç›®ä»£ç å·²å¼€æºï¼Œæ¬¢è¿è®¿é—®å¹¶æå‡ºå®è´µæ„è§ï¼š
        <a href="https://github.com/pipi4/bird-recognition" target="_blank" class="email-link">ğŸ”— GitHub - BirdFinder é¡¹ç›®</a>
    </p>
</section>

    </main>

    <footer class="fact-container">
        <p id="factBox">æ¢ç´¢è‡ªç„¶ç•Œçš„å¥¥ç§˜ï¼Œä»è¯†åˆ«ä¸€åªé¸Ÿå¼€å§‹...</p>
    </footer>

    <!-- å†å²æ£€æµ‹è®°å½• å¼¹çª— -->
    <div id="historyPopup" class="popup-overlay">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup('historyPopup')">&times;</span>
            <h2>ğŸ“œ å†å²æ£€æµ‹è®°å½•</h2>
            <div class="history-table">
                <table>
                    <thead>
                        <tr>
                            <th>æ—¶é—´</th>
                            <th>æ£€æµ‹å¯¹è±¡</th>
                            <th>ç½®ä¿¡åº¦</th>
                            <th>é¢„è­¦</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <!-- åŠ¨æ€æ’å…¥å†å²è®°å½• -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- å¼‚å¸¸é¢„è­¦å¼¹çª— -->
    <div id="alertsPopup" class="popup">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup('alertsPopup')">&times;</span>
            <h2>å¼‚å¸¸é¢„è­¦è®¾ç½®</h2>

            <div class="alert-settings">
                <div class="setting-group">
                    <h3>ç‰©ç§é¢„è­¦</h3>
                    <div class="species-input-group">
                        <input type="text" id="speciesInput" placeholder="è¾“å…¥é¸Ÿç±»ç‰©ç§åç§°">
                        <button id="addSpeciesBtn" class="primary-btn">æ·»åŠ </button>
                    </div>
                    <div class="species-list" id="speciesList">
                        <!-- åŠ¨æ€æ’å…¥ç‰©ç§é¢„è­¦é¡¹ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ•°æ®çœ‹æ¿å¼¹çª— -->
    <div id="dashboardPopup" class="popup-overlay">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup('dashboardPopup')">&times;</span>
            <h2>ğŸ“Š æ•°æ®çœ‹æ¿</h2>
            <div class="dashboard-stats">
                <div class="stat-card">
                    <h3>æ€»è¯†åˆ«æ•°</h3>
                    <p id="totalCount">0</p>
                </div>
                <div class="stat-card">
                    <h3>ä»Šæ—¥è¯†åˆ«æ•°</h3>
                    <p id="todayCount">0</p>
                </div>
                <div class="stat-card">
                    <h3>æ€»é¢„è­¦æ•°</h3>
                    <p id="warningCount">0</p>
                </div>
                <div class="stat-card">
                    <h3>ä»Šæ—¥é¢„è­¦æ•°</h3>
                    <p id="todayWarningCount">0</p>
                </div>
                <div class="stat-card">
                    <h3>é—®ç­”æ¬¡æ•°</h3>
                    <p id="qaCount">0</p>
                </div>
            </div>
            <div class="chart-container">
                <h3>è¯†åˆ«è¶‹åŠ¿</h3>
                <div id="chart-placeholder" class="chart-area"></div>
            </div>
        </div>
    </div>

    <script>
        // åŠ è½½å†å²æ£€æµ‹è®°å½•
        async function loadHistory() {
            try {
                const response = await fetch('/yolo/history');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const history = await response.json();
                const tbody = document.getElementById('historyTableBody');
                tbody.innerHTML = ''; // Clear existing content
                
                history.forEach(record => {
                    const row = document.createElement('tr');
                    const date = new Date(record.created_at).toLocaleString();
                    
                    row.innerHTML = `
                        <td>${date}</td>
                        <td>${record.detected_objects.join(', ')}</td>
                        <td>${(record.confidence * 100).toFixed(1)}%</td>
                        <td>${record.has_warning ? 'âš ï¸' : '-'}</td>
                        <td>
                            ${record.image_id ? `<button onclick="viewImage(${record.image_id})">æŸ¥çœ‹å›¾ç‰‡</button>` : ''}
                            ${record.frame_id ? `<button onclick="viewFrame(${record.frame_id})">æŸ¥çœ‹å¸§</button>` : ''}
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Failed to load history:', error);
                const tbody = document.getElementById('historyTableBody');
                tbody.innerHTML = '<tr><td colspan="5">åŠ è½½å†å²è®°å½•å¤±è´¥</td></tr>';
            }
        }

        async function viewImage(imageId) {
            try {
                const response = await fetch(`/yolo/download/${imageId}`);
                const blob = await response.blob();
                const url = URL.createObjectURL(blob);
                window.open(url, '_blank');
            } catch (error) {
                console.error('Failed to view image:', error);
            }
        }

        async function viewFrame(frameId) {
            try {
                const response = await fetch(`/yolo/download/video/${frameId}`);
                const blob = await response.blob();
                const url = URL.createObjectURL(blob);
                window.open(url, '_blank');
            } catch (error) {
                console.error('Failed to view frame:', error);
            }
        }

        // åŠ è½½æ•°æ®çœ‹æ¿ç»Ÿè®¡ä¿¡æ¯
        async function loadDashboardStats() {
            try {
                const response = await fetch('/yolo/stats');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const stats = await response.json();
                
                // ä»APIè·å–æ‰€æœ‰ç»Ÿè®¡æ•°æ®ï¼ŒåŒ…æ‹¬é¢„è­¦æ•°
                document.getElementById("totalCount").textContent = stats.total || 0;
                document.getElementById("todayCount").textContent = stats.today || 0;
                document.getElementById("warningCount").textContent = stats.warnings || 0;
                document.getElementById("todayWarningCount").textContent = stats.today_warnings || 0;
                document.getElementById("qaCount").textContent = stats.qa_count || 0;
                
                // æ¸²æŸ“è¯†åˆ«è¶‹åŠ¿å›¾è¡¨
                const chartPlaceholder = document.getElementById('chart-placeholder');
                if (stats.detection_trend && stats.detection_trend.length > 0) {
                    renderSimpleChart(stats.detection_trend, chartPlaceholder);
                } else {
                    chartPlaceholder.innerHTML = 'æš‚æ— è¯†åˆ«è¶‹åŠ¿æ•°æ®';
                }
            } catch (error) {
                console.error('Failed to load dashboard stats:', error);
                document.getElementById("totalCount").textContent = '-';
                document.getElementById("todayCount").textContent = '-';
                document.getElementById("warningCount").textContent = '-';
                document.getElementById("todayWarningCount").textContent = '-';
                document.getElementById("qaCount").textContent = '-';
                document.getElementById('chart-placeholder').innerHTML = 'åŠ è½½å›¾è¡¨æ•°æ®å¤±è´¥';
            }
        }

        // ä¿®æ”¹openPopupå‡½æ•°ï¼Œä½¿å…¶åœ¨æ‰“å¼€å¼¹çª—æ—¶åŠ è½½ç›¸åº”çš„æ•°æ®
        function openPopup(id) {
            const popup = document.getElementById(id);
            if (popup) {
                popup.style.display = "flex"; // ä½¿ç”¨flexå¸ƒå±€æ›¿ä»£blockï¼Œç¡®ä¿å±…ä¸­
                if (id === "historyPopup") {
                    loadHistory();
                } else if (id === "dashboardPopup") {
                    loadDashboardStats();
                } else if (id === "alertsPopup") {
                    updateSpeciesList();
                }
            }
        }

        function closePopup(id) {
            const popup = document.getElementById(id);
            if (popup) {
                popup.style.display = "none";  // éšè—å¼¹çª—
            }
        }

        // ç®€å•å›¾è¡¨æ¸²æŸ“å‡½æ•°
        function renderSimpleChart(data, container) {
            // ç”Ÿæˆç®€å•çš„å›¾è¡¨
            container.innerHTML = '';
            
            // ç¡®ä¿æœ‰æ•°æ®
            if (!data || data.length === 0) {
                container.innerHTML = '<div class="no-data">æš‚æ— å›¾è¡¨æ•°æ®</div>';
                return;
            }
            
            // æ‰¾å‡ºæœ€å¤§å€¼ç”¨äºç¼©æ”¾
            const maxValue = Math.max(...data.map(item => item.count)) || 1;
            
            // åˆ›å»ºYè½´åˆ»åº¦
            const yAxisTickCount = 5; // çºµè½´åˆ»åº¦æ•°é‡
            const yAxisTicks = [];
            for (let i = 0; i <= yAxisTickCount; i++) {
                const value = Math.round(maxValue * (yAxisTickCount - i) / yAxisTickCount);
                yAxisTicks.push(value);
            }
            
            // åˆ›å»ºYè½´HTML
            const yAxisHtml = `
                <div class="y-axis">
                    ${yAxisTicks.map(tick => `<div class="y-axis-tick">${tick}</div>`).join('')}
                </div>
            `;
            
            // å›¾è¡¨æŸ±çŠ¶æ¡
            const chartBars = data.map(item => {
                const height = Math.max((item.count / maxValue * 100), 3); // è‡³å°‘3%çš„é«˜åº¦ï¼Œä»¥ä¾¿çœ‹åˆ°
                return `<div class="chart-bar" style="height:${height}%" title="${item.date}: ${item.count}æ¬¡"></div>`;
            }).join('');
            
            // åˆ›å»ºæŸ±çŠ¶å›¾å®¹å™¨
            const chartHtml = `<div class="simple-chart">${chartBars}</div>`;
            
            // åˆ›å»ºæ—¥æœŸæ ‡ç­¾
            const labelsHtml = `
                <div class="chart-labels">
                    ${data.map(item => `<div class="chart-label">${item.date}</div>`).join('')}
                </div>
            `;
            
            // ç»„åˆæ‰€æœ‰å…ƒç´ 
            container.innerHTML = `
                <div class="chart-wrapper">
                    ${yAxisHtml}
                    ${chartHtml}
                    ${labelsHtml}
                </div>
            `;
            
            // æ§åˆ¶å°è¾“å‡ºæ•°æ®ï¼Œæ–¹ä¾¿è°ƒè¯•
            console.log("å›¾è¡¨æ•°æ®:", data);
        }

        // åˆå§‹åŒ–ç‰©ç§é¢„è­¦åˆ—è¡¨
        let alertSpecies = JSON.parse(localStorage.getItem('alertSpecies') || '[]');
        
        // æ·»åŠ ç‰©ç§é¢„è­¦
        function addSpeciesAlert() {
            const speciesInput = document.getElementById('speciesInput');
            const species = speciesInput.value.trim();
            
            if (species && !alertSpecies.includes(species)) {
                alertSpecies.push(species);
                localStorage.setItem('alertSpecies', JSON.stringify(alertSpecies));
                updateSpeciesList();
                speciesInput.value = '';
            }
        }
        
        // åˆ é™¤ç‰©ç§é¢„è­¦
        function removeSpeciesAlert(species) {
            alertSpecies = alertSpecies.filter(item => item !== species);
            localStorage.setItem('alertSpecies', JSON.stringify(alertSpecies));
            updateSpeciesList();
        }
        
        // æ›´æ–°ç‰©ç§åˆ—è¡¨æ˜¾ç¤º
        function updateSpeciesList() {
            const speciesList = document.getElementById('speciesList');
            speciesList.innerHTML = '';
            
            if (alertSpecies.length === 0) {
                speciesList.innerHTML = '<div class="empty-list">æš‚æ— ç‰©ç§é¢„è­¦</div>';
                return;
            }
            
            alertSpecies.forEach(species => {
                const item = document.createElement('div');
                item.className = 'species-item';
                item.innerHTML = `
                    <span>${species}</span>
                    <button class="delete-btn" onclick="removeSpeciesAlert('${species}')">Ã—</button>
                `;
                speciesList.appendChild(item);
            });
        }

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–ç‰©ç§åˆ—è¡¨
            updateSpeciesList();
            
            // æ·»åŠ ç‰©ç§æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            const addSpeciesBtn = document.getElementById('addSpeciesBtn');
            if (addSpeciesBtn) {
                addSpeciesBtn.addEventListener('click', addSpeciesAlert);
            }
            
            // è¾“å…¥æ¡†å›è½¦äº‹ä»¶
            const speciesInput = document.getElementById('speciesInput');
            if (speciesInput) {
                speciesInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        addSpeciesAlert();
                    }
                });
            }
        });
    </script>

</body>
</html>